<div class="row" ng-controller="LinkagePageCtrl">
  <div class="col-lg-2 col-md-3 main-navigation" ng-controller="LinkageNaviCtrl">
  </div>

  <div class="col-lg-8 col-md-9 main-body" ng-controller="LinkageContentCtrl">
    <div class="btn-group">
      <button class="btn btn-primary" ng-click="siteScanner.scan()">Start building report</button>
      <button class="btn btn-default" ng-click="siteScanner.stop()">Stop building report</button>
      <button class="btn btn-danger" ng-click="siteScanner.clear()">Clear report</button>
    </div>
  </div>
  
  <div class="col-lg-8 col-md-9 main-body" ng-controller="LinkageContentCtrl">
    <div class="table-responsive">
      <table class="table table-condensed">
        <tr>
          <th>Page</th>
          <th>Links</th>
        </tr>
        <tr ng-repeat="(pageName, pageDetails) in siteScanner.report">
          <td>
            <span ng-bind="trimRedirect(pageName)"></span>
            <span class="pull-right">
              <span class="label label-default" ng-if="countPages(pageDetails)"
                    ng-bind="countPages(pageDetails)"></span>
              <span class="label label-danger" ng-if="countErrors(pageDetails)" 
                    ng-bind="countErrors(pageDetails)"></span>
            </span>
          </td>
          <td>

            <table class="table table-condensed"
                   ng-if="countPages(pageDetails)">
              <tr>
                <th>Link</th>
                <th>Status</th>
              </tr>
              <tr ng-repeat="(link, linkDetails) in pageDetails"
                  ng-class="linkDetails.status === 404 ? 'danger': ''">
                <td ng-bind="trimRedirect(link)"></td>
                <td ng-bind="linkDetails.status || '+'"></td>
              </tr>
            </table>

          </td>
        </tr>
      </table>
    </div>
  </div>

  <div class="col-lg-2 col-md-9 col-md-offset-3 col-lg-offset-0 download-navigation" 
       ng-class="{ 'visible-lg-block': isMenu }" 
       ng-controller="LinkageDownloadCtrl">
  </div>
</div>
